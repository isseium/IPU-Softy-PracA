\documentclass[a4j]{jreport}

\usepackage[dvips]{graphicx}

\begin{document}

\section*{＜必須課題＞}

\section{ディレクトリ構成}
/usr/xpg4以下のディレクトリ構成を図１に示す。またシンボリックリンクファイルとそのリンク先の対応を表１に示す。\\

\begin{figure}[h]
\begin{center}
\scalebox{1}[.67]{\includegraphics{rep5-1-2.eps}}

%図１：/usr/xpg4以下のディレクトリ構成\\

\end{center}
\caption{/usr/xpg4以下のディレクトリ構成}
\end{figure}


\begin{table}[h]
\begin{center}
\caption{xpg4以下にあるシンボリックリンクファイルとリンク先の対応}
\begin{tabular}{|l|l|}
\hline
シンボリックリンクファイル & リンク先\\
\hline
bin/ipcs & ../../bin/ipcs\\
lib/64 & ./sparcv9\\
lib/libcurses.so & ./libcurses.so.2\\
lib/sparcv9/libcurses.so & ./libcurses.so.2\\
\hline
\end{tabular}
\end{center}
\end{table}

\section{アクセス権}

（A）〜（D）のファイル属性とアクセス権を表２に示す。
\begin{table}[h]
\caption{ファイル属性とアクセス権}
\begin{center}
\begin{tabular}{|c|c|c|c|c|}
\hline
 & ファイル属性 & 所有者 & グループ & その他のユーザ\\
\hline
(A) & \verb+-rwx---r-x+ & 読書実 & ――― & 読―実 \\
(B) & \verb+-r--r--r--+ & 読―― & 読―― & 読――\\
(C) & \verb+-r-x--x---+ & 読―実 & ――実 & ―――   \\
(D) & \verb+-r--------+ & 読―― & ――― & ―――   \\
\hline
\end{tabular}
\end{center}
\end{table}

\section{chmodによるファイル属性の変更}

指示された順にchmodコマンドを実行したときのファイル属性の変化を表３に示す。

\begin{table}[h]
\caption{ファイル属性の変化}
\begin{center}
\begin{tabular}{|l|l|l|}
\hline
 & コマンド & ファイル属性\\
\hline
(1) & chmod 400 file & \verb+-r--------+ \\
(2) & chmod ug=r file & \verb+-r--r-----+ \\
(3) & chmod a+x file & \verb+-r-xr-x--x+ \\
(4) & chmod 700 file & \verb+-rxw------+ \\
\hline
\end{tabular}
\end{center}
\end{table}


\section{アクセス権設定}
secret.txtを他のユーザに読み込まず、かつ知られないようにするためには、chmodコマンドを用いてsecret.txtのあるディレクトリのアクセス権を所有者だけに限定すればよい。すなわち以下のコマンドを入力する。

（secret.txtのあるディレクトリをaaaとする）

chmod 700 aaa

その結果、secret.txtあるディレクトリのアクセス権は \verb+drwx------+ となり、他のユーザから読み込まれたり知られたりすることはなくなる。

\section{rmコマンドとrmdirコマンド}
もしディレクトリとファイルの両方を消去可能なコマンドのみしかないのであれば、ユーザが誤って重要なファイルの存在するディレクトリを間違えてまるごと削除してしまったり、本来ディレクトリであるものをファイルと勘違いし削除してしまうことがあるかもしれない。そのため、ディレクトリを削除する際にディレクトリに重要なファイルが存在しないかということや対象としているものがディレクトリであるかということをユーザ自身が確認しなければならない。その手間を省くために、ディレクトリ内にファイルが存在すればエラーを出力するrmdirコマンドが、そして対象がファイルでなければエラーを出力するrmコマンドが存在する。

また、ディレクトリファイルのみを削除してしまうと、そのディレクトリ以下のファイルやディレクトリの場所をしめす情報がなくなり、ルートからたどれないファイルが存在してしまう不具合が発生しないようにrmコマンドとrmdirコマンドをわけていると思われる。


\setcounter{section}{0}

\section*{＜自由課題＞}

\section{ ``..''と''.''ディレクトリの役割}
\begin{itemize}
\item ``..''について\\
``..''は親ディレクトリを示す。この表記方法があることで、相対パスを利用する際にカレントディレクトリ以下のディレクトリ以外のディレクトリを指定することが可能となる。

\item ``.''について\\
``.''はカレントディレクトリを示す。この表記方法があることで、カレントディレクトリとパスが通っているディレクトリに同名のファイルがあった場合に区別して指定することができる。

\end{itemize}


\section{アクセス権による制約}

\begin{itemize}
\item \verb~r--------~ \\
このアクセス権が設定されているディレクトリは、cdコマンドを用いたディレクトリへの移動、およびmvコマンドを用いたディレクトリの位置変更ができない。またディレクトリが空であれば、mvコマンドを用いた名前の変更、およびrmdirコマンドを用いたディレクトリの削除は可能である。

\item \verb~--x------~\\
このアクセス権が設定されているディレクトリは、cdコマンドを用いたディレクトリへの移動（ただし、ディレクトリ内のファイルにはアクセスできない）およびmvコマンドを用いたディレクトリ名の変更は可能であり、mvコマンドを用いたディレクトリの位置変更ができない。またディレクトリが空であれば、rmdirコマンドを用いたディレクトリの削除は可能である。

\end{itemize}


\section{ドライブ（デバイス）の追加}
新しいドライブを利用するためには、新しいドライブをどのディレクトリで利用するか指定する必要がありmountコマンドを用いて処理を行う。
\begin{itemize}

\item mountコマンド\\
mount [デバイス名] [マウントポイント]

\end{itemize}

これを実行することで、[デバイス名]で指定したデバイスを、[マウントポイント]で指定したディレクトリとして使用することができるようになる。

なお、デバイス名は/dev内にあるデバイスファイル名を指定する。

\end{document}



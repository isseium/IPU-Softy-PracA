


ユーザーコマンド                                            ls(1)



【名前】
     ls - ディレクトリの内容を一覧表示

【形式】
     /usr/bin/ls [ -aAbcCdfFgilLmnopqrRstux1@ ]  [ _f_i_l_e ... ]

     /usr/xpg4/bin/ls [ -aAbcCdfFgilLmnopqrRstux1@ ]  [ _f_i_l_e  ...
     ]

【機能説明】
     _f_i_l_e オペランドがディレクトリの場合、ls は、そのディレクトリ
     の 内 容を出力します。_f_i_l_e が通常ファイルの場合、ls は、その
     ファイル名と要求された他の情報を出力します。デフォルトでは、
     アルファベット順にソートして出力します。引数をまったく指定し
     ないと、現在のディレクトリの内容を出力します。引数を複数指定
     す る と、引数は最初に適切にソートされますが、ファイル引数が
     ディレクトリとその内容より先に処理されます。

     出力形式には、主に 3 種類あります。端末に対するデフォルト の
     出力形式は、複数カラムで、ソートしたエントリを縦方向に並べて
     表示します。-1 オプションを指定すると、単一のカラムで出力 し
     ま す。-m オプションを指定すると、ストリーム出力形式で表示し
     ます。-C、-x、-m オプションの出力形式を決定するために、ls は
     環 境変数 COLUMNS を使用して、1 行に出力できる文字数を調べま
     す。この環境変数が設定されていない場合は、環境変数 TERM に基
     づいて、terminfo(4) データベースが使用され、カラム数が決定さ
     れます。この情報が得られない場合は、カラム数は 80 カラムと見
     なされます。

     -l オプションで出力されるモードは 10 文字からなります。最 初
     の文字は次のいずれかです。

     d     エントリがディレクトリの場合

     D     エントリが door の場合

     l     エントリがシンボリックリンクの場合

     b     エントリがブロック型特殊ファイルの場合

     c     エントリが文字型特殊ファイルの場合

     p     エントリが FIFO (「名前付きパイプ」と呼ばれる )  特 殊
           ファイルの場合

     s     エントリが AF_UNIX アドレスファミリのソケットの場合

     -     エントリが通常ファイルの場合

     残りの 9 文字は、3 文字ずつの 3 組に分けられます。最初 の 組
     は、所有者へのアクセス権を示します。次の組は、同一のグループ
     に属する他のユーザーへのアクセス権を示します。最後の組は、そ



SunOS 5.9               2002年 6 月 10 日                       1






ユーザーコマンド                                            ls(1)



     の他のユーザーへのアクセス権を示します。各組においては、3 文
     字がそれぞれ、ファイルの読み取り、書き込み、実行権を示 し ま
     す。ディレクトリの場合は、「実行」権は、指定したファイルの有
     無についてディレクトリを検索するアクセス権を意味します。アク
     セ ス権に続く文字は ACL について示しています。ファイルに ACL
     が関連づけられている場合はプラス記号が表示されます。アクセス
     権だけの場合は何も表示されません。

     ls -l (ロング形式出力) は、POSIX ロケールで次のように出力 し
     ます。


     -rwxrwxrwx+  1 smith  dev    10876  May 16 9:42 part2


     右から左へ見ていくと、現在のディレクトリには part2  と い う
     ファ イルが 1 つあるのがわかります。次に、ファイルの内容を最
     後に修正したのは、5 月 16 日午前 9 時 42 分です。ファイル に
     は、 10,876 文字 (バイト) が含まれています。ファイルの所有者
     またはユーザーは、グループ dev (おそらく development を示す)
     に属しており、ログイン名は smith です。この例で 1 と示されて
     いる数字は、part2 というファイルへのリンクの数を 示 し ま す
     (cp(1)  を参照)。プラス記号は、ファイルに関連する ACL がある
     ことを示します。注: -@ オプションが指定されている場合、拡 張
     属 性が存在していると ACL は無効になり、プラス記号はアット記
     号 (@) に置き換えられます。さらにダッシュと文字 に よっ て、
     ユー ザー、グループ、その他のユーザーが part2 に対する読み取
     り、書き込み、実行権を持っていることが示されています。

     実行権を表す x は、各組の 3 番目の位置に置かれます。3 番目の
     位 置に - がある場合は、実行権を与えられていないことを示しま
     す。

     各アクセス権の意味は、次のとおりです。

     r     ファイルが読み取り可能

     w     ファイルが書き込み可能

     x     ファイルが実行可能

     -     指定されたアクセス権は与えられていない

     s     セットユーザーID ビットまたはセットグループ ID ビッ ト
           がオンで、対応するユーザーまたはグループ実行権ビットも
           オン

     S     不定ビット状態 (セットユーザーID ビットがオンで、 ユー
           ザー実行権ビットがオフ)

     t     1000 (8 進) ビット、つまりスティッ キ ビッ ト が オ ン
           (chmod(1) を参照) で、実行権ビットがオン



SunOS 5.9               2002年 6 月 10 日                       2






ユーザーコマンド                                            ls(1)



     T     1000 ビットがオンで、実行権ビットがオフ (不定ビット 状
           態)

  ［/usr/bin/ls］
     l     アクセス中に強制ロックが発生する (セットグ ルー プ  ID
           ビットがオンで、グループ実行権ビットがオフ)

  ［/usr/xpg4/bin/ls］
     L     アクセス中に強制ロックが発生する (セットグ ルー プ  ID
           ビットがオンで、グループ実行権ビットがオフ)

     ユーザーやグループへのアクセス権では、3 番目の位置に x や  -
     で は なく、セットユーザーID ビットあるいはセットグループ ID
     ビットの状態に応じて s が置かれることがあります。実行中 に、
     ユーザーのユーザーID をファイルのユーザーID と同じと見なすこ
     の機能は、たとえば、スーパーユーザーとして起動した ユー ザー
     が、 ログイン中に普通にログインした場合のユーザーID を必要と
     するときなどに使用されます。

     グループへのアクセス権においては、3 番目の位置に l が置か れ
     ることがあります。l は、強制的なファイルおよびレコードのロッ
     クを示しています。これはアクセス中にその他のファイルに対する
     読み取りまたは書き込み権をロックするファイルの機能があること
     を示しています。

     その他のユーザーへのアクセス権においては、3 番目の位置 に  t
     ま たは T が置かれることがあります。これらは、スティッキビッ
     トと実行権の状態を示しています。

【オプション】
     以下のオプションを指定できます。

     -a    すべてのエントリを出力します。つまり、ドット (.) で 始
           まるエントリも出力します。

     -A    すべてのエントリを出力します。つまり、ドット (.) で 始
           ま る エントリも出力します。ただし、作業用ディレクトリ
           (.) や親ディレクトリ (..) は出力しません。

     -b    出力できない文字を 8 進 \_d_d_d の出力形式で強制的に出 力
           します。

     -c    (-t オプションによる) ソートや (-l または -n オプ ショ
           ンによる) 出力において、i ノードを最後に修正した時刻 (
           ファイル作成、モード変更など) を使用します。

     -C    複数カラム形式の出力で、エントリを縦方向にソート し ま
           す。これは、デフォルトの出力形式です。

     -d    引数がディレクトリの場合、(内容ではなく) その名前だ け
           を 出力します。-l とともに使用すれば、ディレクトリの状
           態を知ることができます。



SunOS 5.9               2002年 6 月 10 日                       3






ユーザーコマンド                                            ls(1)



     -f    強制的に、各引数をディレクトリと解釈し、各引数のディレ
           クトリで見つかる名前を出力します。このオプションは、-l
           、-t 、-s 、-r を無視し、-a が指定されたものと見なしま
           す。エントリは、ディレクトリ内での順序で出力されます。

     -F    ディレクトリの各内容の末尾に種別を表す記号をつけます。
           ディ レクトリの場合はスラッシュ(/) を、door の場合は大
           なり括弧 (>) を、実行可能なファイルの場合はアスタリ ス
           ク  (*) を、FIFO の場合は縦棒 (|) を、シンボリックリン
           クの場合は単価記号 (@) を、AF_UNIX アドレスファミリ の
           ソケットの場合は等号 (=) を、それぞれ末尾に付けます。

     -g    所有者名が出力されない点を除いて、-l と同じです。

     -h    すべてのサイズを縮小して、読みやすい形式で出力します。
           たとえば、14K、234M、2.7G、3.0T などのようになります。
           縮尺は、1024 を除数として行われます。

     -i    各ファイルについて、i ノード番号を第 1 カラムに出力 し
           ます。

     -l    各ファイルについて、モード、ACL 表示、リンクの数、所有
           者名、グループ名、サイズ (バイト単位) 、最終修正時刻を
           ロング形式で出力します。ファイルが特殊ファイルの場合、
           サイズフィールドには、メジャーデバイス番号とマイナーデ
           バイス番号が入ります。最終修正時刻が 6 箇月よりも前 で
           ある場合には、POSIX ロケールでは「月・日・年」の形式で
           表示されます。LC_TIME ロケールカテゴリが POSIX ロ ケー
           ルに設定されていない場合には、異なった形式で時間フィー
           ルドが表示されます。最終修正時刻が 6 箇月以内である 場
           合には、「月・日・時」の形式で表示されます。ファイルが
           シンボリックリンクの場合は、ファイル名を出力した あ と
           に、 -> に続いて参照されるファイルのパス名が出力されま
           す。

     -L    引数がシンボリックリンクの場合、リンク自身ではなく、そ
           のリンクが参照するファイルまたはディレクトリの情報を出
           力します。

     -m    ストリーム形式出力を指定します。ファイルはコンマで区切
           られ横方向に出力されます。

     -n    所有者名とグループ名の代わりに、所有者のユーザーID  と
           グ ループのグループ ID が出力されることを除き、-l と同
           じです。

     -o    グループ名が出力されない点を除き、-l と同じです。

     -p    ファイルがディレクトリの場合、各ファイル名の後にスラッ
           シュ(/) を付けます。

     -q    ファイル名中の出力できない文字を疑問符記号 (?) とし て



SunOS 5.9               2002年 6 月 10 日                       4






ユーザーコマンド                                            ls(1)



           出力します。

     -r    他のオプションの指定に応じて、アルファベットの逆順にま
           たはファイルが古い順にソートします。

     -R    サブディレクトリの内容を再帰的に出力します。

     -s    各エントリについて、間接ブロックを含むブロック数を出力
           します。

     -t    ファイル名ではなく、タイムスタンプ (新しい順) でソート
           し ます。デフォルトは最終修正時刻です (-u と -c を参照
           )。

     -u    (-t オプションによる) ソートまたは (-l オプションに よ
           る) 出力において、最終修正時刻の代わりに、最終アクセス
           時刻を使用します。

     -@    -l と似ていますが、拡張属性が存在していると ACL は無効
           になります。拡張属性を持つファイルのアクセス権ビットの
           後ろにはアット記号 (@) が表示されます。

     -x    複数カラム形式出力で、エントリを縦方向ではなく横方向に
           ソートします。

     -1    1 行の出力につき 1 つのエントリを出力します。

  ［/usr/bin/ls］
     オプションのうち -C と -l (小文字のエル)、-m と -l (小文字の
     エル)、-x と -l (小文字のエル)、-@ と -l (小文字のエル) は、
     同時に指定できません。このような矛盾する組み合わせでオプショ
     ンを指定してもエラーにはならず、-l 指定が有効となります。

  ［/usr/xpg4/bin/ls］
     オプションのうち -C と -l (小文字のエル)、-m と -l (小文字の
     エル)、-x と -l (小文字のエル)、-@ と -l (小文字のエル) は、
     同時に指定できません。このような矛盾する組み合わせでオプショ
     ンを指定してもエラーにはならず、あとの方で指定されたものが有
     効になります。

【オペランド】
     以下のオペランドを指定できます。

     _f_i_l_e  処理の対象とするファイルのパス名。ここで指定したファイ
           ルが見つからない場合、標準エラー出力に診断メッセージが
           書き出されます。

【使用法】
     ファイルが 2 ギガバイト (2**31 バイト) 以上ある場合の ls  の
     動作については、largefile(5) を参照してください。





SunOS 5.9               2002年 6 月 10 日                       5






ユーザーコマンド                                            ls(1)



【使用例】
     例 1: ファイルのアクセス権

     -rwxr--r--

     これは、ファイルがユーザーに対しては読み取り、書き込み、実行
     可能で、グループおよびその他のユーザーに対しては読み取り可能
     であることを示しています。

     -rwsr-xr-x

     これは、ファイルがユーザーに対しては読み取り、書き込み、実行
     可能で、グループおよびその他のユーザーに対しては読み取りおよ
     び実行可能であり、実行時にユーザーがこのファイルのユーザーID
     を自分のユーザーID として使用できることを示しています。

     -rw-rwl---

     これは、ファイルがユーザーおよびグループによってだけ読み取り
     および書き込み可能で、アクセス中にロックされることを示してい
     ます。

     例 2: 全ファイルの名前を出力

     以下のコマンドは、現在のディレクトリ中にあるすべてのファイル
     の名前を出力します。通常は名前が出力されない、先頭にドット .
     が付いているファイルの名前も出力します。

     example% ls -a

     例 3: ファイルの情報を出力する

     example% ls -aisn

     このコマンドは、ドットで始まるものを含む、すべてのファイルに
     つ いて (a) 、i 番号 - ファイルに対応する i ノードのメモリー
     アドレス - をカラムの左側に (i)、ファイルのサイズ (ブロッ ク
     単位) を i 番号の右のカラムに (s) 出力します。さらに、コマン
     ドによる出力形式は、ファイルに関連する UID 番号 (ユーザー 名
     の 代わり) と GID 番号 (グループ名の代わり) が出力されるロン
     グ出力形式の数値バージョン (n) になります。

     ディレクトリ内のファイルのサイズを出力する際、間接ブロックを
     含むブロックの総数を出力します。

【環境】
     ls の実行に影響を与える 環 境 変 数  LC_COLLATE、 LC_CTYPE、
     LC_TIME、 LC_MESSAGES、 NLSPATH、 TZ  に つ い て の詳細は、
     environ(5) を参照してください。

     COLUMNS
           複数のテキストカラムからなる出力を生成する場合に、ユー



SunOS 5.9               2002年 6 月 10 日                       6






ユーザーコマンド                                            ls(1)



           ザーが希望するカラム幅の値を指定します。この変数の値が
           10 進整数を示す文字列の場合、ls は書き出すパス名テキス
           ト カラムの数を、その幅の値を元に計算します (-C の説明
           を参照)。COLUMNS が設定されていない、または値が不適 当
           な場合には、カラム幅として 80 が用いられます。どのディ
           レクトリのファイル名を出力する場合でも、選択されたカラ
           ム幅は一定です。複数テキストカラムを出力する際、ファイ
           ル名は長すぎても切り捨てられません。

【終了ステータス】
     以下の終了ステータスが返されます。

     0     情報はすべて正常に書き出された

     >0    エラーが発生した

【ファイル】
     /etc/group
           ls -l および ls -g 用のグループ ID

     /etc/passwd
           ls -l および ls -o 用のユーザーID

     /usr/share/lib/terminfo/?/*
           端末情報データベース

【属性】
     次の属性については attributes(5) のマニュアルページを参照 し
     てください。

  ［/usr/bin/ls］
     ____________________________________________________________
    |         属性タイプ          |            属性値           |
    |______________________________|______________________________|
    | 使用条件                    | SUNWcsu                     |
    |______________________________|______________________________|
    | CSI                         | 対応済み                    |
    |______________________________|______________________________|
    | インタフェースの安定性      | 安定                        |
    |______________________________|______________________________|

  ［/usr/xpg4/bin/ls］
     ____________________________________________________________
    |         属性タイプ          |            属性値           |
    |______________________________|______________________________|
    | 使用条件                    | SUNWxcu4                    |
    |______________________________|______________________________|
    | CSI                         | 対応済み                    |
    |______________________________|______________________________|
    | インタフェースの安定性      | 標準                        |
    |______________________________|______________________________|




SunOS 5.9               2002年 6 月 10 日                       7






ユーザーコマンド                                            ls(1)



【関連項目】
     chmod(1),  cp(1),  setfacl(1),  terminfo(4),  attributes(5),
     environ(5), fsattr(5), largefile(5), XPG4(5)

【注意事項】
     ファイル名に出力できない文字があると、カラムの出力オプション
     が正しく処理されないことがあります。

     ハードリンクされたファイルがある場合、総ブロック数は正しく表
     示されません。

     ls の出力のソート順序はロケールの影響を受け、LC_COLLATE 環境
     変数で変更できます。たとえば、LC_COLLATE が C の場合、ファイ
     ルを表示する順序は、ファイル名がドット (.) で始ま る ファ イ
     ル、次にファイル名が大文字で始まるファイル、その後にファイル
     名が小文字で始まるファイルという順番に な り ま す。 一 方、
     LC_COLLATE が en_US.ISO8859-1 の場合には、ソート順序を決定す
     る際に、先行するドットや大文字と小文字の区別は無視されます。





































SunOS 5.9               2002年 6 月 10 日                       8



